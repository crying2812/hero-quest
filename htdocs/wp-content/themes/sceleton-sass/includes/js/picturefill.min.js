/*! Picturefill - v2.1.0-beta - 2014-06-06
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */

window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;t.type="text/css";t.id="matchmediajs-test";n.parentNode.insertBefore(t,n);r="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle;e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";if(t.styleSheet){t.styleSheet.cssText=n}else{t.textContent=n}return r.width==="1px"}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}());(function(e,t){"use strict";function r(e){var t,r,i,s,o,u;e=e||{};t=e.elements||n.getAllElements();for(var a=0,f=t.length;a<f;a++){r=t[a];i=r.nodeName.toUpperCase();s=undefined;o=undefined;u=undefined;if(!r[n.ns]){r[n.ns]={}}if(!e.reevaluate&&r[n.ns].evaluated){continue}if(i==="PICTURE"){n.removeVideoShim(r);s=n.getMatch(r);if(s===false){continue}u=r.getElementsByTagName("img")[0]}else{s=undefined;u=r}if(u){if(!u[n.ns]){u[n.ns]={}}if(u.srcset&&(i==="PICTURE"||u.getAttribute("sizes"))){n.dodgeSrcset(u)}if(s){o=n.processSourceSet(s);n.applyBestCandidate(o,u)}else{o=n.processSourceSet(u);if(u.srcset===undefined||u[n.ns].srcset){n.applyBestCandidate(o,u)}}r[n.ns].evaluated=true}}}function i(){r();var n=setInterval(function(){r();if(/^loaded|^i|^c/.test(t.readyState)){clearInterval(n);return}},250);if(e.addEventListener){var i;e.addEventListener("resize",function(){if(!e._picturefillWorking){e._picturefillWorking=true;e.clearTimeout(i);i=e.setTimeout(function(){r({reevaluate:true});e._picturefillWorking=false},60)}},false)}}if(e.HTMLPictureElement){return}t.createElement("picture");var n={};n.ns="picturefill";n.srcsetSupported=(new e.Image).srcset!==undefined;n.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")};n.endsWith=function(e,t){return e.endsWith?e.endsWith(t):e.indexOf(t,e.length-t.length)!==-1};n.matchesMedia=function(t){return e.matchMedia&&e.matchMedia(t).matches};n.getDpr=function(){return e.devicePixelRatio||1};n.getWidthFromLength=function(e){e=e&&parseFloat(e)>0?e:"100vw";e=e.replace("vw","%");if(!n.lengthEl){n.lengthEl=t.createElement("div");t.documentElement.insertBefore(n.lengthEl,t.documentElement.firstChild)}n.lengthEl.style.cssText="position: absolute; left: 0; width: "+e+";";return n.lengthEl.offsetWidth};n.types={};n.types["image/jpeg"]=true;n.types["image/gif"]=true;n.types["image/png"]=true;n.types["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");n.types["image/webp"]=function(){var t=new e.Image,i="image/webp";t.onerror=function(){n.types[i]=false;r()};t.onload=function(){n.types[i]=t.width===1;r()};t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="};n.verifyTypeSupport=function(e){var t=e.getAttribute("type");if(t===null||t===""){return true}else{if(typeof n.types[t]==="function"){n.types[t]();return"pending"}else{return n.types[t]}}};n.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}};n.findWidthFromSourceSize=function(e){var t=n.trim(e).split(/\s*,\s*/),r;for(var i=0,s=t.length;i<s;i++){var o=t[i],u=n.parseSize(o),a=u.length,f=u.media;if(!a){continue}if(!f||n.matchesMedia(f)){r=a;break}}return n.getWidthFromLength(r)};n.parseSrcset=function(e){var t=[];while(e!==""){e=e.replace(/^\s+/g,"");var n=e.search(/\s/g),r,i=null;if(n!==-1){r=e.slice(0,n);var s=r[r.length-1];if(s===","||r===""){r=r.replace(/,+$/,"");i=""}e=e.slice(n+1);if(i===null){var o=e.indexOf(",");if(o!==-1){i=e.slice(0,o);e=e.slice(o+1)}else{i=e;e=""}}}else{r=e;e=""}if(r||i){t.push({url:r,descriptor:i})}}return t};n.parseDescriptor=function(e,t){var r=e&&e.replace(/(^\s+|\s+$)/g,""),i=t?n.findWidthFromSourceSize(t):"100%",s;if(r){var o=r.split(" ");for(var u=o.length+1;u>=0;u--){var a=o[u],f=a&&a.slice(a.length-1);if(f==="w"||f==="x"){s=a}if(t&&s){s=parseFloat(parseInt(a,10)/i)}else{var l=a&&parseFloat(a,10);s=l&&!isNaN(l)&&f==="x"||f==="w"?l:1}}}else{s=1}return s};n.getCandidatesFromSourceSet=function(e,t){var r=n.parseSrcset(e),i=[];for(var s=0,o=r.length;s<o;s++){var u=r[s];i.push({url:u.url,resolution:n.parseDescriptor(u.descriptor,t)})}return i};n.dodgeSrcset=function(e){if(e.srcset){e[n.ns].srcset=e.srcset;e.removeAttribute("srcset")}};n.processSourceSet=function(e){var t=e.getAttribute("srcset"),r=e.getAttribute("sizes"),i=[];if(e.nodeName.toUpperCase()==="IMG"&&e[n.ns]&&e[n.ns].srcset){t=e[n.ns].srcset}if(t){i=n.getCandidatesFromSourceSet(t,r)}return i};n.applyBestCandidate=function(e,t){var r,i,s;e.sort(n.ascendingSort);i=e.length;s=e[i-1];for(var o=0;o<i;o++){r=e[o];if(r.resolution>=n.getDpr()){s=r;break}}if(!n.endsWith(t.src,s.url)){t.src=s.url;t.currentSrc=t.src}};n.ascendingSort=function(e,t){return e.resolution-t.resolution};n.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){var n=t[0],r=n.getElementsByTagName("source");while(r.length){e.insertBefore(r[0],n)}n.parentNode.removeChild(n)}};n.getAllElements=function(){var e=t.getElementsByTagName("picture"),r=[],i=t.getElementsByTagName("img");for(var s=0,o=e.length+i.length;s<o;s++){if(s<e.length){r[s]=e[s]}else{var u=i[s-e.length];if(u.parentNode.nodeName.toUpperCase()!=="PICTURE"&&(n.srcsetSupported&&u.getAttribute("sizes")||u.getAttribute("srcset")!==null)){r.push(u)}}}return r};n.getMatch=function(e){var t=e.childNodes,r;for(var i=0,s=t.length;i<s;i++){var o=t[i];if(o.nodeType!==1){continue}if(o.nodeName.toUpperCase()==="IMG"){return r}if(o.nodeName.toUpperCase()!=="SOURCE"){continue}var u=o.getAttribute("media");if(!o.getAttribute("srcset")){continue}if(!u||n.matchesMedia(u)){var a=n.verifyTypeSupport(o);if(a===true){r=o;break}else if(a==="pending"){return false}}}return r};i();r._=n;if(typeof module==="object"&&typeof module.exports==="object"){module.exports=r}else if(typeof define==="function"&&define.amd){define(function(){return r})}else if(typeof e==="object"){e.picturefill=r}})(this,this.document)